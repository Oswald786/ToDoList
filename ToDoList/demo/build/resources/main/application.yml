micronaut:
  server:
    cors:
      enabled: true
      configurations:
        default:
          allowed-origins:
            - http://localhost:63342
          allowed-methods:
            - GET
            - POST
            - PUT
            - DELETE
            - OPTIONS
          allowed-headers:
            - Content-Type
            - Authorization
            - X-Requested-With
          exposed-headers:
            - Location
          allow-credentials: true
          max-age: 3600
  security:
    enabled: true
    authentication: bearer
    token:
      roles-name: roles
      jwt:
        signatures:
          secret:
            generator:
              secret: '"${JWT_GENERATOR_SIGNATURE_SECRET:7K9mP2nQ8rT5vW3xZ6aB1cD4eF7gH0jL3mN6pR9sU2wX5yA8bC1dE4fG7hJ0kM3n}"'
        generator:
          claims-roles-key: roles
          access-token:
            expiration: 5m
          refresh-token:
            expiration: 14d

datasources:
  default:
    url: jdbc:oracle:thin:@//localhost:1521/FREEPDB1
    username: ETHAN
    password: Ethan9901
    driverClassName: oracle.jdbc.OracleDriver
    maximumPoolSize: 5
    # Optional but recommended timeouts
    connectionTimeout: 10000
    idleTimeout: 600000
    maxLifetime: 1800000


jpa:
  default:
    properties:
      hibernate:
        # Hibernate 6 dialect for Oracle
        dialect: org.hibernate.dialect.OracleDialect
        hbm2ddl:
          auto: none   # keep schema managed by your SQL scripts
        format_sql: false
        show_sql: false
    # Make sure Micronaut scans the package where your JPA entities live
    entity-scan:
      packages:
        - com.todolist.adaptors.persistence.Jpa

# Optional: choose adapter implementation by property (if you later add an HTTP-based adapter)
adapter:
  mode: jpa

