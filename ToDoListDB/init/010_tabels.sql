ALTER SESSION SET CONTAINER = FREEPDB1;
ALTER SESSION SET CURRENT_SCHEMA = ETHAN;

CREATE TABLE TASK_LIST (
                           TASK_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                           TASK_OWNER VARCHAR(255),
                           TASK_NAME VARCHAR(255) NOT NULL,
                           TASK_TYPE VARCHAR(255) NOT NULL,
                           TASK_LEVEL NUMBER(2,0) NOT NULL,
                           TASK_DESCRIPTION VARCHAR(255)
);

CREATE TABLE USERS (
                       USER_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
                       USERNAME VARCHAR(255) PRIMARY KEY,
                       PASSWORD VARCHAR(255),
                       ROLE VARCHAR(255),
                       EMAIL VARCHAR(255)
);


CREATE TABLE PLAYER_STATS(
    PLAYER_PROFILE_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    PLAYER_USERNAME VARCHAR(255),
    PLAYER_LEVEL NUMBER(2,0),
    PLAYER_XP NUMBER(5,0),
    XP_TO_NEXT_LEVEL NUMBER(5,0),
    CONSTRAINT PLAYER_USERNAME FOREIGN KEY (PLAYER_USERNAME)
                         REFERENCES USERS(USERNAME)
                         ON DELETE CASCADE
);

alter table TASK_LIST
  ADD CONSTRAINT task_Level_Check CHECK (task_level BETWEEN 1 AND 10);